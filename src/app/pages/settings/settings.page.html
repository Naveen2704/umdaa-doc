<ion-header>
  <ion-toolbar >
      <ion-buttons slot="start">
          <ion-back-button defaultHref="/home" ></ion-back-button>
      </ion-buttons>
      <ion-title class="font-weight-bold small">SETTINGS</ion-title>
      <ion-icon slot="end" padding style="font-size: 20px;" (click)="logout()" name="md-power"></ion-icon>
  </ion-toolbar>
</ion-header>
<ion-content>
  <div class="mat-body">

    
   
  <mat-tab-group    (selectedTabChange)="yourFn($event)" color="primary" >

    <mat-tab label="General"  > 
        <div class="clinic-infoo" data-step="1" data-intro="Add Clinic Information (Like consultation fees consultation time)" >
          <ion-card class="my_card_d " >
            <ion-card-header>
              <ion-item class="p-0">
                <ion-card-subtitle class="font-weight-bold" style="font-size:16px;">Clinic Information</ion-card-subtitle>
              </ion-item>
            </ion-card-header>
          
            <ion-card-content>
              <form>
                
                <div class="row mt-3">
                  <div class="col-12">
                    <div class="row">
                      <div class="col-6">
                        <div class="form-group">
                          <label for="exampleInputEmail1">Walk-in Consultation Fee </label>
                          <input type="text" class="form-control" value="{{walkinConsultationfee}}" (change)="walkinFees($event.target.value)" placeholder="Enter Walkin Consultation Fees">
                          <!-- <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small> -->
                        </div>
                      </div>
                      <div class="col-6">
                        <div class="form-group">
                          <label>Walkin Consult Time (In Minutes) </label>
                          <select class="form-control" id="sel1" (click)="walkinTime($event.target.value)">
                            <option value='' >Select Here</option>
                            <option *ngFor="let number of [5,10,15,20,25,30,35,40,45,50,55,60]"  selected="{{(number == walkinConsultationTime)?'selected':''}}">{{number}}</option>
                          </select>
                          <!-- <select id="cars" name="cars">
                            <option value="volvo">Volvo</option>
                            <option value="saab">Saab</option>
                            <option value="fiat">Fiat</option>
                            <option value="audi">Audi</option>
                          </select> -->
                          <!-- <label><input type="radio" name="optradio" checked>Option 1</label> -->
                          <!-- <input type="text" class="form-control" value="{{walkinConsultationTime}}" (click)="walkinTime($event)" placeholder="Enter Walkin Slot Timings"> -->
                          <!-- <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small> -->
                        </div>
                      </div>
                    </div>
        
                    <div class="row">
                      <div class="col-6">
                        <div class="form-group">
                          <label for="exampleInputEmail1">Tele Consultation Fee  </label>
                          <input type="email" class="form-control"  value="{{teleConsultationFees}}" (change)="teleFees($event.target.value)" placeholder="Enter Tele Consultation Fees">
                          <!-- <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small> -->
                        </div>
                      </div>
                      <div class="col-6">
                  
                        
                        <div class="form-group">
                          <label>Tele Consult Time (In Minutes)</label>
                          <select class="form-control" id="sel1" value="fasak" (click)="teleTime($event.target.value)" >
                            <option value='' >Select Here</option>
                            <option *ngFor="let number of [5,10,15,20,25,30,35,40,45,50,55,60]" selected="{{(number == teleConsultationTime)?'selected':''}}" >{{number}}</option>
                          </select>
                          <!-- <input type="email" class="form-control" value="{{teleConsultationTime}}" (click)="teleTime($event)" placeholder="Enter Tele Slot Timings"> -->
                          <!-- <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small> -->
                        </div>
                      </div>
                    </div>
        
                    <div class="row">
                      <div class="col-6">
                        <div class="form-group">
                          <label for="exampleInputEmail1">Registration Fee</label>
                          <input type="text" value="{{registration_fees}}" class="form-control"  (change)="registrationFees($event.target.value)" placeholder="Enter Registration Fees">
                          <!-- <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small> -->
                        </div>
                      </div>
                      <!-- <div class="col-6">
                        <div class="form-group">
                          <label for="exampleInputEmail1">Tele Slot Timings</label>
                          <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter email">
                          <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
                        </div>
                      </div> -->
                    </div>
                   
                  </div>
                </div>
                <div class="text-right">
                  <button mat-raised-button  class="my_bg_v" (click)="submitGeneral()">Save Changes</button>
                </div>
                
              
             
              </form>
            </ion-card-content>
          </ion-card>
        </div>
       
        <ion-card class="my_card_d " data-step="2" data-intro="Add More Clinic Information (Like secondary clinics )" >
          <ion-card-header>
            <ion-item class="p-0">
              <ion-card-subtitle class="font-weight-bold" style="font-size:16px;">Add More Clinics / Practice</ion-card-subtitle>
            </ion-item>
          </ion-card-header>
        
          <ion-card-content>
              <div class="conatiner">
                <form [formGroup]="addClinicForm" (ngSubmit)="addclinic(addClinicForm.value)">
                <div class="row">
                <div class="col-12 ">
                  <div class="col-12 col-md-6 col-xl-6 col-lg-6 pl-0">
                    <div class="text-left">
                      <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Clinic/ Practice Place</mat-label>
                        <!-- <mat-select  formControlName="clinic_id" (selectionChange)="checkClincValue($event)" required>
                          <mat-select-filter [array]="optionsList" [displayMember]="'optionsList[clinic_name]'" (filteredReturn)="filteredList1 = $event"></mat-select-filter>
                          <mat-option value="{{option.clinic_id}}" *ngFor="let option of optionsList " >
                            {{option.clinic_name}}
                          </mat-option>
                        </mat-select> -->
                        <mat-select formControlName="clinic_id" (selectionChange)="checkClincValue($event)"  required>
                          <mat-select-filter [placeholder]="'Search Clinics'" [displayMember]="'clinic_name'" [array]="variables2" (filteredReturn)="filteredList5 =$event"></mat-select-filter>
                          <mat-option value="0"><span style="font-weight: bold; color:rgb(216, 77, 77);">Add New Clinic</span></mat-option>
                          <mat-option *ngFor="let item of filteredList5" [value]="item.clinic_id">
                            {{item.clinic_name}} <span style="color:green">{{item.location}}</span>
                          </mat-option>
                          
                        </mat-select>
                      </mat-form-field>
                      <!-- <mat-form-field class="example-full-width-main" appearance="outline">
                        <mat-label>Clinic/ Practice Place</mat-label>
                        <mat-select   (selectionChange)="checkClincValue($event)" formControlName="clinic_id" required>
                          <mat-option value="0"><span style="font-weight: bold; color:rgb(216, 77, 77);">Add New Clinic</span></mat-option>
                          <mat-option value="{{option.clinic_id}}" *ngFor="let option of optionsList" >
                            {{option.clinic_name}}
                          </mat-option>
                        </mat-select>
                      </mat-form-field> -->
                    </div>
                    <h6 class="font-weight-bold" style="text-decoration: underline;">Previously Added</h6>
                    <div class="right_name" *ngFor="let clinic of clinicdetails;let i = index">
                      
                      <p *ngIf="clinicdetails.length != '0'"> <span class="mr-2">{{i+1}}.</span>{{clinic.clinic_name}} </p>
                    </div>
                  </div>
                </div>
                </div>
                <div class="row">
                  <div class="col-xl-12 d-flex " >
                    
                    <div class="col-xl-6" *ngIf="addnew">
                      <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Clinic Name</mat-label>
                        <input matInput formControlName="clinic_name" required>
                      </mat-form-field>
                    </div>
                    <div class="col-xl-6"  *ngIf="addnew">
                      <mat-form-field class="example-full-width" appearance="outline">
                        <mat-label>Clinic Address</mat-label>
                        <input matInput  formControlName="clinic_location" required placeholder="Eg.Tolichowki,Hyderabad">
                      </mat-form-field>
                      
                    </div>
                  </div>
                </div>
                  <div class="row">
                    <div class="col-12">
                      <div class="text-right pr-2">
                        <button mat-raised-button   class="my_bg_v" type="submit" >Save Clinics</button>
                      </div>
                    </div>
                  </div>
                  </form>
                  <!-- <ion-item>
                    
                    <ion-card-subtitle>Add Signature</ion-card-subtitle>
                    
                  </ion-item> -->
                
              </div>
          </ion-card-content>
        </ion-card>
        <ion-card class="my_card_d " *ngIf="signStatus!=1" >
          <ion-card-header>
            <ion-item class="p-0">
              <ion-card-subtitle class="font-weight-bold" style="font-size:16px;">Add Signature</ion-card-subtitle>
            </ion-item>
          </ion-card-header>
          
          <ion-card-content>
            <div class="row ">
              <div class="col-12 pl-4">
                <div class="class" style="border-style: solid ; width:156px;">
                  <signature-pad [options]="signaturePadOptions"  (onBeginEvent)="drawStart()" (onEndEvent)="drawComplete()"></signature-pad>

                </div>
                <button mat-raised-button   class="" (click)="clear()">Clear</button>
 
                <div class="text-right">
                  <button mat-raised-button   class="my_bg_v" (click)="addsign()">Save Signature</button>
                </div>
              </div>
            </div>
          </ion-card-content>
        </ion-card>
         <ion-card class="my_card_d " data-step="3" data-intro="Add More Information (Like Google review link and language you spoke)">
          <ion-card-header>
            <ion-item class="p-0">
              <ion-card-subtitle class="font-weight-bold" style="font-size:16px;">More Settings</ion-card-subtitle>
            </ion-item>
          </ion-card-header>
          
          <ion-card-content>
            <div class="row">
              
                <div class="col-12 col-md-6 col-xl-6 col-lg-6">
                  <mat-form-field class="example-full-width" appearance="outline">
                    <mat-label>Google Review Link</mat-label>
                    <input matInput #link  placeholder="Ex:Google my business account">
                  </mat-form-field>
                  
                   
                  
                  <div class="text-right">
                    <button mat-raised-button   class="my_bg_v" (click)="addReview(link.value)">Save Link</button>
                  </div>
                  <div class="right_name" *ngIf="docDetails.google_review_link != ''">
                    <h4 class="font-weight-bold" style="text-decoration: underline;">Previously Added</h4>
                    <p>{{docDetails.google_review_link}} </p>
                  </div>
                </div>
                <div class="col-12 col-md-6 col-xl-6 col-lg-6 ">
                  <mat-form-field class="example-full-width" appearance="outline">
                    <mat-label>Select languages you speak</mat-label>
                    <mat-select   (selectionChange)="selectlang($event)" multiple>
                      <mat-option value="{{language}}" *ngFor="let language of languages" >
                        {{language}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
                 
                  <div class="text-right">
                    <button mat-raised-button   class="my_bg_v" (click)="addLanguages()">Save Language</button>
                  </div>
                  <div class="right_name" *ngIf="docDetails.languages != ''">
                    <h4 class="font-weight-bold" style="text-decoration: underline;">Previously Added</h4>
                    <p>{{docDetails.languages |titlecase}} </p>
                  </div>
                </div>
               
              
            </div>
          </ion-card-content>
        </ion-card>
      
        <div class="help">
          <button mat-mini-fab  matTooltip="Help"  class="my_bg_v" (click)="help()"><mat-icon>help_outline</mat-icon></button>
        </div>
     
    </mat-tab>
    <mat-tab label="WalkinSlots Timings" >

      <ion-row class="">
        <ion-col>
          <ion-card class="my_card_d " data-step="1" data-intro="Add walkin-slots time as your avalibility" data-position="right">
            <ion-card-content>
              <div>
                <table class="table table-borderless table-responsive">
                  <thead>
                    <tr  style="text-align: left;">
                      <th scope="col">Days</th>
                      <th scope="col">Morning Session</th>
                      <th scope="col">Afternoon Session</th>
                      <th scope="col">Evening Session</th>
                    </tr>
                  </thead>
                  <tbody *ngFor="let daysMain of daysMainData">
                    <tr style="text-align: left;">
                      <th scope="row">{{daysMain.day}}</th>
                      <td *ngFor="let daysma of daysMain.sessions">
                         <div *ngFor="let days of daysma.Morning">
                          <div *ngIf="days.from_time.slice(days.from_time.length - 3) != 'day'">
                            {{days.from_time}}-{{days.to_time}}
                            <i class="fa fa-pencil" aria-hidden="true" (click)="editData('WalkinSlots Timings',days.id,'morning',days.from_time,days.to_time,daysMain.day)"></i>
                            <!-- <i class="fa fa-trash" aria-hidden="true" (click)="deleteData(days.id,'morning',days.from_time,days.to_time,daysMain.day)"></i>  -->
                          </div>
                          <div *ngIf="days.from_time.slice(days.from_time.length - 3) == 'day'">
                            <ion-icon name="add"  style="zoom:1.5;" (click)="add(daysMain.day,'Morning')"></ion-icon>
                          </div>
    
                        </div>
                        <div *ngFor="let days of daysma.Afternoon">
                          <div *ngIf="days.from_time.slice(days.from_time.length - 3) != 'day'">
                            {{days.from_time}}-{{days.to_time}}
                            <i class="fa fa-pencil" aria-hidden="true" (click)="editData('WalkinSlots Timings',days.id,'afternoon',days.from_time,days.to_time,daysMain.day)"></i>
                            <!-- <i class="fa fa-trash" aria-hidden="true" (click)="deleteData(days.id,'afternoon',days.from_time,days.to_time,daysMain.day)"></i>  -->
                          </div>
                          <div *ngIf="days.from_time.slice(days.from_time.length - 3) == 'day'">
                            <ion-icon name="add"  style="zoom:1.5;" (click)="add(daysMain.day,'Afternoon')"></ion-icon>
                          </div>
    
                        </div>
                        <div *ngFor="let days of daysma.Evening">
                          <div *ngIf="days.from_time.slice(days.from_time.length - 3) != 'day'">
                            {{days.from_time}}-{{days.to_time}}
                            <i class="fa fa-pencil" aria-hidden="true" (click)="editData('WalkinSlots Timings',days.id,'evening',days.from_time,days.to_time,daysMain.day)"></i>
                            <!-- <i class="fa fa-trash" aria-hidden="true" (click)="deleteData(days.id,'evening',days.from_time,days.to_time,daysMain.day)"></i>  -->
                          </div>
                          <div *ngIf="days.from_time.slice(days.from_time.length - 3) == 'day'">
                            <ion-icon name="add"  style="zoom:1.5;" (click)="add(daysMain.day,'Evening')"></ion-icon>
                          </div>
    
                        </div>
                      </td>
                  
                    </tr>
                  
                  </tbody>
                  <!-- <tbody *ngFor="let daysMain of walkinTimings">
                    <tr style="text-align: center;">
                      <th scope="row">{{daysMain.day}}</th>
                      <td *ngFor="let daysma of daysMain.slots">
                         <div *ngIf="daysma.session == 'morning'">
                          <div>
                            {{daysma.clinic_doctor_weekday_slot_id}}-{{daysma.from_time}}-{{daysma.to_time}}
                
                          </div>    
                        </div>
                        <div *ngIf="daysma.session == 'afternoon'" >
                          <div>
                            {{daysma.clinic_doctor_weekday_slot_id}}-{{daysma.from_time}}-{{daysma.to_time}}
                          </div>
                        </div>
                        <div *ngIf="daysma.session == 'evening'">
                          <div>
                            {{daysma.clinic_doctor_weekday_slot_id}}-{{daysma.from_time}}-{{daysma.to_time}}
                          </div>
                        </div>
                      </td> 
                    
                    </tr>
                  
                  </tbody> -->
                </table>
              </div> 
            </ion-card-content>
          </ion-card>
           
          <!-- <div class="ion-float-right">
            <ion-button mat-raised-button   color="primary" (click)="nextPopUp(stepper)">Next</ion-button>
    
          </div>                   -->
        </ion-col>
   
   
      </ion-row>
      <div class="help">
        <button mat-mini-fab  matTooltip="Help"  class="my_bg_v" (click)="help()"><mat-icon>help_outline</mat-icon></button>
      </div>
    </mat-tab>
       <mat-tab label="TeleSlots Timings">

        <ion-row class="">
          <ion-col>
            <ion-card class="my_card_d "  data-step="1" data-intro="Add Tele-slots time as your avalibility" data-position="right">
              <ion-card-content>
                <div>
                  <table class="table table-borderless table-responsive">
                    <thead>
                      <tr  style="text-align: left;">
                        <th scope="col">Days</th>
                        <th scope="col">Morning Session</th>
                        <th scope="col">Afternoon Session</th>
                        <th scope="col">Evening Session</th>
                      </tr>
                    </thead>
                    <tbody *ngFor="let daysMain of daysMainDataa">
                      <tr style="text-align: left;">
                        <th scope="row">{{daysMain.day}}</th>
                        <td *ngFor="let daysma of daysMain.sessions">
                           <div *ngFor="let days of daysma.Morning">
                            <div *ngIf="days.from_time.slice(days.from_time.length - 3) != 'day'">
                              {{days.from_time}}-{{days.to_time}}
                              <i class="fa fa-pencil" aria-hidden="true" (click)="editData('TeleSlots Timings',days.id,'morning',days.from_time,days.to_time,daysMain.day)"></i>
                              <!-- <i class="fa fa-trash" aria-hidden="true" (click)="deleteData(days.id,'morning',days.from_time,days.to_time,daysMain.day)"></i>  -->
                            </div>
                            <div *ngIf="days.from_time.slice(days.from_time.length - 3) == 'day'">
                              <ion-icon name="add"  style="zoom:1.5;" (click)="teleadd(daysMain.day,'Morning')"></ion-icon>
                            </div>
      
                          </div>
                          <div *ngFor="let days of daysma.Afternoon">
                            <div *ngIf="days.from_time.slice(days.from_time.length - 3) != 'day'">
                              {{days.from_time}}-{{days.to_time}}
                              <i class="fa fa-pencil" aria-hidden="true" (click)="editData('TeleSlots Timings',days.id,'afternoon',days.from_time,days.to_time,daysMain.day)"></i>
                              <!-- <i class="fa fa-trash" aria-hidden="true" (click)="deleteData(days.id,'afternoon',days.from_time,days.to_time,daysMain.day)"></i>  -->
                            </div>
                            <div *ngIf="days.from_time.slice(days.from_time.length - 3) == 'day'">
                              <ion-icon name="add"  style="zoom:1.5;" (click)="teleadd(daysMain.day,'Afternoon')"></ion-icon>
                            </div>
      
                          </div>
                          <div *ngFor="let days of daysma.Evening">
                            <div *ngIf="days.from_time.slice(days.from_time.length - 3) != 'day'">
                              {{days.from_time}}-{{days.to_time}}
                              <i class="fa fa-pencil" aria-hidden="true" (click)="editData('TeleSlots Timings',days.id,'evening',days.from_time,days.to_time,daysMain.day)"></i>
                              <!-- <i class="fa fa-trash" aria-hidden="true" (click)="deleteData(days.id,'evening',days.from_time,days.to_time,daysMain.day)"></i>  -->
                            </div>
                            <div *ngIf="days.from_time.slice(days.from_time.length - 3) == 'day'">
                              <ion-icon name="add"  style="zoom:1.5;" (click)="teleadd(daysMain.day,'Evening')"></ion-icon>
                            </div>
      
                          </div>
                        </td>
                    
                      </tr>
                    
                    </tbody>
                    <!-- <tbody *ngFor="let daysMain of walkinTimings">
                      <tr style="text-align: center;">
                        <th scope="row">{{daysMain.day}}</th>
                        <td *ngFor="let daysma of daysMain.slots">
                           <div *ngIf="daysma.session == 'morning'">
                            <div>
                              {{daysma.clinic_doctor_weekday_slot_id}}-{{daysma.from_time}}-{{daysma.to_time}}
                  
                            </div>    
                          </div>
                          <div *ngIf="daysma.session == 'afternoon'" >
                            <div>
                              {{daysma.clinic_doctor_weekday_slot_id}}-{{daysma.from_time}}-{{daysma.to_time}}
                            </div>
                          </div>
                          <div *ngIf="daysma.session == 'evening'">
                            <div>
                              {{daysma.clinic_doctor_weekday_slot_id}}-{{daysma.from_time}}-{{daysma.to_time}}
                            </div>
                          </div>
                        </td> 
                      
                      </tr>
                    
                    </tbody> -->
                  </table>
                </div> 
              </ion-card-content>
            </ion-card>
             
            <!-- <div class="ion-float-right">
              <ion-button mat-raised-button   color="primary" (click)="nextPopUp(stepper)">Next</ion-button>
      
            </div>                   -->
          </ion-col>
     
     
        </ion-row>
        <div class="help">
          <button mat-mini-fab  matTooltip="Help"  class="my_bg_v" (click)="help()"><mat-icon>help_outline</mat-icon></button>
        </div>
      </mat-tab>
      
  </mat-tab-group>
</div>

</ion-content>